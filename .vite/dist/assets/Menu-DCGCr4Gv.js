import{r as i,_ as H,j as ke,c6 as De,bN as Z,k as ge,l as K,a7 as Ie,h as E,g as ve,d as ye,e as G,c7 as Oe,Z as Fe,f as be,bW as fe,bV as $e,bK as q,m as te,c4 as _e,n as xe,bP as ze,b$ as Ne,M as je}from"./index-DRAxbQhQ.js";const He=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Q(t,e,o){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:o?null:t.firstChild}function de(t,e,o){return t===e?o?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:o?null:t.lastChild}function we(t,e){if(e===void 0)return!0;let o=t.innerText;return o===void 0&&(o=t.textContent),o=o.trim().toLowerCase(),o.length===0?!1:e.repeating?o[0]===e.keys[0]:o.indexOf(e.keys.join(""))===0}function V(t,e,o,T,b,w){let f=!1,d=b(t,e,e?o:!1);for(;d;){if(d===t.firstChild){if(f)return!1;f=!0}const u=T?!1:d.disabled||d.getAttribute("aria-disabled")==="true";if(!d.hasAttribute("tabindex")||!we(d,w)||u)d=b(t,d,o);else return d.focus(),!0}return!1}const Ke=i.forwardRef(function(e,o){const{actions:T,autoFocus:b=!1,autoFocusItem:w=!1,children:f,className:d,disabledItemsFocusable:u=!1,disableListWrap:P=!1,onKeyDown:C,variant:x="selectedMenu"}=e,O=H(e,He),g=i.useRef(null),A=i.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ke(()=>{b&&g.current.focus()},[b]),i.useImperativeHandle(T,()=>({adjustStyleForScrollbar:(n,r)=>{const c=!g.current.style.width;if(n.clientHeight<g.current.clientHeight&&c){const h=`${De(Z(n))}px`;g.current.style[r.direction==="rtl"?"paddingLeft":"paddingRight"]=h,g.current.style.width=`calc(100% + ${h})`}return g.current}}),[]);const D=n=>{const r=g.current,c=n.key,h=Z(r).activeElement;if(c==="ArrowDown")n.preventDefault(),V(r,h,P,u,Q);else if(c==="ArrowUp")n.preventDefault(),V(r,h,P,u,de);else if(c==="Home")n.preventDefault(),V(r,null,P,u,Q);else if(c==="End")n.preventDefault(),V(r,null,P,u,de);else if(c.length===1){const l=A.current,S=c.toLowerCase(),R=performance.now();l.keys.length>0&&(R-l.lastTime>500?(l.keys=[],l.repeating=!0,l.previousKeyMatched=!0):l.repeating&&S!==l.keys[0]&&(l.repeating=!1)),l.lastTime=R,l.keys.push(S);const F=h&&!l.repeating&&we(h,l);l.previousKeyMatched&&(F||V(r,h,!1,u,Q,l))?n.preventDefault():l.previousKeyMatched=!1}C&&C(n)},p=ge(g,o);let s=-1;i.Children.forEach(f,(n,r)=>{if(!i.isValidElement(n)){s===r&&(s+=1,s>=f.length&&(s=-1));return}n.props.disabled||(x==="selectedMenu"&&n.props.selected||s===-1)&&(s=r),s===r&&(n.props.disabled||n.props.muiSkipListHighlight||n.type.muiSkipListHighlight)&&(s+=1,s>=f.length&&(s=-1))});const I=i.Children.map(f,(n,r)=>{if(r===s){const c={};return w&&(c.autoFocus=!0),n.props.tabIndex===void 0&&x==="selectedMenu"&&(c.tabIndex=0),i.cloneElement(n,c)}return n});return K.jsx(Ie,E({role:"menu",ref:p,className:d,onKeyDown:D,tabIndex:b?0:-1},O,{children:I}))}),Ae=Ke;function We(t){return ve("MuiPopover",t)}ye("MuiPopover",["root","paper"]);const Ue=["onEntering"],Ve=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Ge=["slotProps"];function he(t,e){let o=0;return typeof e=="number"?o=e:e==="center"?o=t.height/2:e==="bottom"&&(o=t.height),o}function me(t,e){let o=0;return typeof e=="number"?o=e:e==="center"?o=t.width/2:e==="right"&&(o=t.width),o}function Pe(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function ee(t){return typeof t=="function"?t():t}const Be=t=>{const{classes:e}=t;return xe({root:["root"],paper:["paper"]},We,e)},Xe=G(Oe,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Me=G(Fe,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Ye=i.forwardRef(function(e,o){var T,b,w;const f=be({props:e,name:"MuiPopover"}),{action:d,anchorEl:u,anchorOrigin:P={vertical:"top",horizontal:"left"},anchorPosition:C,anchorReference:x="anchorEl",children:O,className:g,container:A,elevation:D=8,marginThreshold:p=16,open:s,PaperProps:I={},slots:n,slotProps:r,transformOrigin:c={vertical:"top",horizontal:"left"},TransitionComponent:h=ze,transitionDuration:l="auto",TransitionProps:{onEntering:S}={},disableScrollLock:R=!1}=f,F=H(f.TransitionProps,Ue),W=H(f,Ve),L=(T=r==null?void 0:r.paper)!=null?T:I,U=i.useRef(),$=ge(U,L.ref),_=E({},f,{anchorOrigin:P,anchorReference:x,elevation:D,marginThreshold:p,externalPaperSlotProps:L,transformOrigin:c,TransitionComponent:h,transitionDuration:l,TransitionProps:F}),B=Be(_),X=i.useCallback(()=>{if(x==="anchorPosition")return C;const a=ee(u),y=(a&&a.nodeType===1?a:Z(U.current).body).getBoundingClientRect();return{top:y.top+he(y,P.vertical),left:y.left+me(y,P.horizontal)}},[u,P.horizontal,P.vertical,C,x]),Y=i.useCallback(a=>({vertical:he(a,c.vertical),horizontal:me(a,c.horizontal)}),[c.horizontal,c.vertical]),v=i.useCallback(a=>{const m={width:a.offsetWidth,height:a.offsetHeight},y=Y(m);if(x==="none")return{top:null,left:null,transformOrigin:Pe(y)};const ie=X();let N=ie.top-y.vertical,j=ie.left-y.horizontal;const le=N+m.height,ae=j+m.width,ce=fe(ee(u)),ue=ce.innerHeight-p,pe=ce.innerWidth-p;if(p!==null&&N<p){const M=N-p;N-=M,y.vertical+=M}else if(p!==null&&le>ue){const M=le-ue;N-=M,y.vertical+=M}if(p!==null&&j<p){const M=j-p;j-=M,y.horizontal+=M}else if(ae>pe){const M=ae-pe;j-=M,y.horizontal+=M}return{top:`${Math.round(N)}px`,left:`${Math.round(j)}px`,transformOrigin:Pe(y)}},[u,x,X,Y,p]),[z,oe]=i.useState(s),k=i.useCallback(()=>{const a=U.current;if(!a)return;const m=v(a);m.top!==null&&(a.style.top=m.top),m.left!==null&&(a.style.left=m.left),a.style.transformOrigin=m.transformOrigin,oe(!0)},[v]);i.useEffect(()=>(R&&window.addEventListener("scroll",k),()=>window.removeEventListener("scroll",k)),[u,R,k]);const Ee=(a,m)=>{S&&S(a,m),k()},Se=()=>{oe(!1)};i.useEffect(()=>{s&&k()}),i.useImperativeHandle(d,()=>s?{updatePosition:()=>{k()}}:null,[s,k]),i.useEffect(()=>{if(!s)return;const a=$e(()=>{k()}),m=fe(u);return m.addEventListener("resize",a),()=>{a.clear(),m.removeEventListener("resize",a)}},[u,s,k]);let ne=l;l==="auto"&&!h.muiSupportAuto&&(ne=void 0);const Re=A||(u?Z(ee(u)).body:void 0),J=(b=n==null?void 0:n.root)!=null?b:Xe,se=(w=n==null?void 0:n.paper)!=null?w:Me,Te=q({elementType:se,externalSlotProps:E({},L,{style:z?L.style:E({},L.style,{opacity:0})}),additionalProps:{elevation:D,ref:$},ownerState:_,className:te(B.paper,L==null?void 0:L.className)}),re=q({elementType:J,externalSlotProps:(r==null?void 0:r.root)||{},externalForwardedProps:W,additionalProps:{ref:o,slotProps:{backdrop:{invisible:!0}},container:Re,open:s},ownerState:_,className:te(B.root,g)}),{slotProps:Ce}=re,Le=H(re,Ge);return K.jsx(J,E({},Le,!_e(J)&&{slotProps:Ce,disableScrollLock:R},{children:K.jsx(h,E({appear:!0,in:s,onEntering:Ee,onExited:Se,timeout:ne},F,{children:K.jsx(se,E({},Te,{children:O}))}))}))}),Ze=Ye;function qe(t){return ve("MuiMenu",t)}ye("MuiMenu",["root","paper","list"]);const Je=["onEntering"],Qe=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],et={vertical:"top",horizontal:"right"},tt={vertical:"top",horizontal:"left"},ot=t=>{const{classes:e}=t;return xe({root:["root"],paper:["paper"],list:["list"]},qe,e)},nt=G(Ze,{shouldForwardProp:t=>Ne(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),st=G(Me,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),rt=G(Ae,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),it=i.forwardRef(function(e,o){var T,b;const w=be({props:e,name:"MuiMenu"}),{autoFocus:f=!0,children:d,className:u,disableAutoFocusItem:P=!1,MenuListProps:C={},onClose:x,open:O,PaperProps:g={},PopoverClasses:A,transitionDuration:D="auto",TransitionProps:{onEntering:p}={},variant:s="selectedMenu",slots:I={},slotProps:n={}}=w,r=H(w.TransitionProps,Je),c=H(w,Qe),h=je(),l=h.direction==="rtl",S=E({},w,{autoFocus:f,disableAutoFocusItem:P,MenuListProps:C,onEntering:p,PaperProps:g,transitionDuration:D,TransitionProps:r,variant:s}),R=ot(S),F=f&&!P&&O,W=i.useRef(null),L=(v,z)=>{W.current&&W.current.adjustStyleForScrollbar(v,h),p&&p(v,z)},U=v=>{v.key==="Tab"&&(v.preventDefault(),x&&x(v,"tabKeyDown"))};let $=-1;i.Children.map(d,(v,z)=>{i.isValidElement(v)&&(v.props.disabled||(s==="selectedMenu"&&v.props.selected||$===-1)&&($=z))});const _=(T=I.paper)!=null?T:st,B=(b=n.paper)!=null?b:g,X=q({elementType:I.root,externalSlotProps:n.root,ownerState:S,className:[R.root,u]}),Y=q({elementType:_,externalSlotProps:B,ownerState:S,className:R.paper});return K.jsx(nt,E({onClose:x,anchorOrigin:{vertical:"bottom",horizontal:l?"right":"left"},transformOrigin:l?et:tt,slots:{paper:_,root:I.root},slotProps:{root:X,paper:Y},open:O,ref:o,transitionDuration:D,TransitionProps:E({onEntering:L},r),ownerState:S},c,{classes:A,children:K.jsx(rt,E({onKeyDown:U,actions:W,autoFocus:f&&($===-1||P),autoFocusItem:F,variant:s},C,{className:te(R.list,C.className),children:d}))}))}),at=it;export{at as M,Ae as a};
