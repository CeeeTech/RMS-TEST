import{M as W,aC as k,bf as T,a5 as p,al as $,r as z,l as e,O as b,K as y,E as O,F as J}from"./index-DRAxbQhQ.js";import{S as L}from"./swal-D3ymrZ7_.js";import{c as V,a as u}from"./index.esm-Dd68ZLmj.js";import{F as G}from"./formik.esm-GkfYgtGj.js";import{u as H}from"./useScriptRef-LwNiAwPE.js";import{s as K,a as Q}from"./password-strength-Df8Nbnnk.js";import{d as P}from"./Visibility-Dm0MVkLJ.js";import{d as C}from"./VisibilityOff-RcDSkBzq.js";import{F as c}from"./FormControl-DTGQKB1F.js";import{I as h}from"./InputLabel-BTLx1hne.js";import{O as w}from"./OutlinedInput-C-PMnjYA.js";import{F as n}from"./FormHelperText-YH3vNJL3.js";import{I as F}from"./InputAdornment-Cj0cTNRg.js";const pe=({...N})=>{const i=W(),_=k(),v=H();T();const j=L.mixin({toast:!0,position:"top-start",iconColor:"white",customClass:{popup:"colored-toast"},showConfirmButton:!1,timer:5e3,timerProgressBar:!0}),[f,B]=p.useState(!1),[x,I]=p.useState(!1);p.useState(!1);const[U,S]=p.useState(0),[X,q]=p.useState(),{register:D}=$(),A=()=>{B(!f)},E=()=>{I(!x)},M=s=>{s.preventDefault()},R=s=>{s.preventDefault()},g=s=>{const r=K(s);S(r),q(Q(r))};return z.useEffect(()=>{g("123456")},[]),e.jsx(G,{initialValues:{name:"",email:"",phoneNumber:"",password:"",confirm_password:"",submit:null},validationSchema:V().shape({name:u().max(255).required("First name is required"),phoneNumber:u().matches(/^\+?\d{10,12}$/,"Contact No should be 10 to 12 digits with an optional leading + sign").required("Contact No is required"),email:u().email("Must be a valid email").max(255).required("Email is required"),password:u().max(255).required("Password is required"),confirm_password:u().max(255).required("Confirm Password is required")}),onSubmit:async(s,{setErrors:r,setStatus:o,setSubmitting:a})=>{a(!0);try{if(s.confirm_password!=s.password){o({success:!1}),r({submit:"Password and Confirm Password are Mismatching"}),a(!1);return}console.log(s),await D(s)&&j.fire({icon:"success",title:"General Details Added Successfully"}),a(!1),_("/register/bankdetails")}catch(d){j.fire({icon:"error",title:d.message}),a(!1),console.error(d),v.current&&(o({success:!1}),a(!1))}},children:({errors:s,handleBlur:r,handleChange:o,handleSubmit:a,isSubmitting:d,touched:t,values:l})=>e.jsxs("form",{noValidate:!0,onSubmit:a,...N,children:[e.jsxs(c,{fullWidth:!0,error:!!(t.name&&s.name),sx:{...i.typography.customInput},children:[e.jsx(h,{htmlFor:"outlined-adornment-email-register",children:"Full name"}),e.jsx(w,{id:"outlined-adornment-email-register",type:"text",value:l.name,name:"name",onBlur:r,onChange:o,inputProps:{}}),t.name&&s.name&&e.jsx(n,{error:!0,id:"standard-weight-helper-text--register",children:s.name})]}),e.jsxs(c,{fullWidth:!0,error:!!(t.email&&s.email),sx:{...i.typography.customInput},children:[e.jsx(h,{htmlFor:"outlined-adornment-email-register",children:"Email Address"}),e.jsx(w,{id:"outlined-adornment-email-register",type:"email",value:l.email,name:"email",onBlur:r,onChange:o,inputProps:{}}),t.email&&s.email&&e.jsx(n,{error:!0,id:"standard-weight-helper-text--register",children:s.email})]}),e.jsxs(c,{fullWidth:!0,error:!!(t.phoneNumber&&s.phoneNumber),sx:{...i.typography.customInput},children:[e.jsx(h,{htmlFor:"outlined-adornment-contact-number",children:"Contact number"}),e.jsx(w,{id:"outlined-adornment-contact-number",type:"numbers",value:l.phoneNumber,name:"phoneNumber",onBlur:r,onChange:o,inputProps:{}}),t.phoneNumber&&s.phoneNumber&&e.jsx(n,{error:!0,id:"standard-weight-helper-text--register",children:s.phoneNumber})]}),e.jsxs(c,{fullWidth:!0,error:!!(t.password&&s.password),sx:{...i.typography.customInput},children:[e.jsx(h,{htmlFor:"outlined-adornment-password-register",children:"Password"}),e.jsx(w,{id:"outlined-adornment-password-register",type:f?"text":"password",value:l.password,name:"password",label:"Password",onBlur:r,onChange:m=>{o(m),g(m.target.value)},endAdornment:e.jsx(F,{position:"end",children:e.jsx(b,{"aria-label":"toggle password visibility",onClick:A,onMouseDown:M,edge:"end",size:"large",children:f?e.jsx(P,{}):e.jsx(C,{})})}),inputProps:{}}),t.password&&s.password&&e.jsx(n,{error:!0,id:"standard-weight-helper-text-password-register",children:s.password})]}),e.jsxs(c,{fullWidth:!0,error:!!(t.confirm_password&&s.confirm_password),sx:{...i.typography.customInput},children:[e.jsx(h,{htmlFor:"outlined-adornment-password-register",children:"Confirm Password"}),e.jsx(w,{id:"outlined-adornment-password-register",type:x?"text":"password",value:l.confirm_password,name:"confirm_password",label:"confirm_password",onBlur:r,onChange:m=>{o(m),g(m.target.value)},endAdornment:e.jsx(F,{position:"end",children:e.jsx(b,{"aria-label":"toggle password visibility",onClick:E,onMouseDown:R,edge:"end",size:"large",children:x?e.jsx(P,{}):e.jsx(C,{})})}),inputProps:{}}),t.confirm_password&&s.confirm_password&&e.jsx(n,{error:!0,id:"standard-weight-helper-text-password-register",children:s.confirm_password})]}),s.submit&&e.jsx(y,{sx:{mt:3},children:e.jsx(n,{error:!0,children:s.submit})}),e.jsx(y,{sx:{mt:2},children:e.jsx(O,{children:e.jsx(J,{disableElevation:!0,disabled:d,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Next"})})})]})})};export{pe as J};
