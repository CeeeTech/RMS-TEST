import{r as f,_ as O,l as e,h as H,a9 as Ne,$ as b,S as w,K as p,P as E,F as R,e as ue,Y as T,j as ye,M as ke,an as V,bh as P,x as he,y as ge,O as F,aW as Me,bf as Se,D as Ee,G as j,a1 as Le}from"./index-D1jq9kJH.js";import{S as v}from"./CardSecondaryAction-DEsegZC-.js";import{C as N}from"./TableExports-jIxdtzK8.js";import{u as De,D as y,a as fe,G as A,b as We,c as Ie,d as Re,e as W}from"./DataGrid-DYKy88ZK.js";import{S as Fe}from"./Select-ZcV0niJu.js";import{r as l,a as d,b as s,c as D,d as $e}from"./random-generator-D3JhxjyY.js";import{T as Pe,t as Ae}from"./Tooltip-BnzKm6rU.js";import{R as pe}from"./Rating-B7m4c1t0.js";import{d as Te}from"./Add-CIGxFMI0.js";import{d as Ge}from"./EditTwoTone-BXRg6PQc.js";import{M as ze}from"./MenuItem-CEXjQcJ-.js";import{D as _e,a as Oe}from"./DialogContent-gbyLtiOn.js";import{D as He}from"./DialogTitle-UkeykQeP.js";import{D as Ve}from"./DialogContentText-BEs3ijTc.js";import{D as Be}from"./DialogActions-WsJ1_Lfv.js";import"./toPropertyKey-H7AvS4qg.js";import"./typeof-QjJsDpFa.js";import"./InputBase-CmWFd4JY.js";import"./utils-DoM3o7-Q.js";import"./Autocomplete-BxsNeNHF.js";import"./OutlinedInput-DN1we0wm.js";import"./ListSubheader-Bx3um0z-.js";import"./usePreviousProps-DtuR8-wm.js";import"./Menu-SXZ0ZIrG.js";import"./Badge-ld2FrWRe.js";import"./Checkbox-DY75TCaV.js";import"./TextField-CZtuqMzg.js";import"./FormControl-BhfPE8_O.js";import"./InputLabel-B26CM0Hw.js";import"./FormLabel-Dsek0Nea.js";import"./FormHelperText-Cniy_4F_.js";import"./Switch-DNTTpQBE.js";import"./InputAdornment-DJGYiVlo.js";import"./Skeleton-D0CkMoTC.js";import"./CircularProgress-BfwiGi9n.js";import"./TablePagination-gjp86BJc.js";import"./LastPage-Bu0cjKB7.js";import"./TableCell-Bay4XfoM.js";const Ue=["label","icon","showInMenu","onClick"],Ye=["label","icon","showInMenu","onClick","closeMenuOnClick","closeMenu"],$=f.forwardRef((t,a)=>{const i=De();if(!t.showInMenu){var r;const{label:h,icon:o,onClick:m}=t,n=O(t,Ue),u=k=>{m==null||m(k)};return e.jsx(i.slots.baseIconButton,H({ref:a,size:"small",role:"menuitem","aria-label":h},n,{onClick:u},(r=i.slotProps)==null?void 0:r.baseIconButton,{children:f.cloneElement(o,{fontSize:"small"})}))}const{label:c,icon:g,onClick:x,closeMenuOnClick:M=!0,closeMenu:C}=t,S=O(t,Ye),L=h=>{x==null||x(h),M&&(C==null||C())};return e.jsxs(ze,H({ref:a},S,{onClick:L,children:[g&&e.jsx(Ne,{children:g}),c]}))});function xe(t){const{id:a,value:i,field:r}=t,c=fe(),g=async x=>{await c.current.setEditCellValue({id:a,field:r,value:x.target.value}),c.current.stopCellEditMode({id:a,field:r})};return e.jsxs(Fe,{value:i,onChange:g,size:"small",sx:{height:1},native:!0,autoFocus:!0,children:[e.jsx("option",{children:"Back-end Developer"}),e.jsx("option",{children:"Front-end Developer"}),e.jsx("option",{children:"UX Designer"})]})}xe.propTypes={id:E.number,value:E.array,field:E.bool};const qe=t=>e.jsx(xe,{...t});function Je(){let t=[];return B.map(a=>t.push({label:a.headerName,key:a.field})),e.jsx(b,{content:!1,title:"With Auto Stop",secondary:e.jsxs(w,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(N,{data:U,filename:"auto-stop-edit-data-grid-table.csv",header:t}),e.jsx(v,{link:"https://mui.com/x/react-data-grid/editing/#with-auto-stop"})]}),children:e.jsx(p,{sx:{width:"100%"},children:e.jsx(y,{hideFooter:!0,autoHeight:!0,rows:U,columns:B})})})}const B=[{field:"name",headerName:"Name",flex:.75,minWidth:120},{field:"role",headerName:"Role",renderEditCell:qe,editable:!0,flex:1,minWidth:180}],U=[{id:1,name:"Olivier",role:"Back-end Developer"},{id:2,name:"Danail",role:"UX Designer"},{id:3,name:"Matheus",role:"Front-end Developer"}];function Ke(){const[t,a]=f.useState(null),[i,r]=f.useState({}),c=f.useCallback(o=>{const n=o.currentTarget.parentElement.dataset.id,u=o.currentTarget.dataset.field;a({id:n,field:u})},[]),g=f.useMemo(()=>{var n,u;if(!t)return"view";const{id:o,field:m}=t;return((u=(n=i[o])==null?void 0:n[m])==null?void 0:u.mode)||"view"},[i,t]),x=f.useCallback((o,m)=>{g==="edit"&&(m.defaultMuiPrevented=!0)},[g]),M=f.useCallback((o,m)=>{m.defaultMuiPrevented=!0},[]);let C=[];Y.map(o=>C.push({label:o.headerName,key:o.field}));const S=()=>{if(!t)return;const{id:o,field:m}=t;r(g==="edit"?{...i,[o]:{...i[o],[m]:{mode:A.View}}}:{...i,[o]:{...i[o],[m]:{mode:A.Edit}}})},L=()=>{if(!t)return;const{id:o,field:m}=t;r({...i,[o]:{...i[o],[m]:{mode:A.View,ignoreModifications:!0}}})},h=o=>{o.preventDefault()};return e.jsx(b,{content:!1,title:"Controlled Editing",secondary:e.jsxs(w,{direction:"row",spacing:2,alignItems:"center",children:[e.jsxs(p,{sx:{px:1},children:[e.jsx(R,{onClick:S,onMouseDown:h,disabled:!t,variant:"outlined",children:g==="edit"?"Save":"Edit"}),e.jsx(R,{onClick:L,onMouseDown:h,disabled:g==="view",variant:"outlined",sx:{ml:1},children:"Cancel"})]}),e.jsx(N,{data:q,filename:"controlled-data-grid-table.csv",header:C}),e.jsx(v,{link:"https://mui.com/x/react-data-grid/editing/#controlled-model"})]}),children:e.jsx(p,{sx:{width:"100%"},children:e.jsx(y,{rows:q,columns:Y,hideFooter:!0,autoHeight:!0,onCellKeyDown:x,cellModesModel:i,onCellEditStop:M,onCellModesModelChange:o=>r(o),slotProps:{toolbar:{cellMode:g,selectedCellParams:t,setSelectedCellParams:a,cellModesModel:i,setCellModesModel:r},cell:{onFocus:c}}})})})}const Y=[{field:"name",headerName:"Name",flex:1,minWidth:180,editable:!0},{field:"age",headerName:"Age",type:"number",editable:!0,align:"left",flex:.5,minWidth:120,headerAlign:"left"},{field:"dateCreated",headerName:"Date Created",type:"date",flex:.75,minWidth:180,editable:!0},{field:"lastLogin",headerName:"Last Login",type:"dateTime",flex:.75,minWidth:180,editable:!0}],q=[{id:1,name:l(),age:25,dateCreated:d(),lastLogin:s()},{id:2,name:l(),age:36,dateCreated:d(),lastLogin:s()},{id:3,name:l(),age:19,dateCreated:d(),lastLogin:s()},{id:4,name:l(),age:28,dateCreated:d(),lastLogin:s()},{id:5,name:l(),age:23,dateCreated:d(),lastLogin:s()}],Xe=ue(p)(({theme:t})=>({width:"100%","& .MuiDataGrid-cell--editable":{backgroundColor:T(t.palette.success.dark,.1),"& .MuiInputBase-root":{height:"100%"}},"& .Mui-error":{backgroundColor:T(t.palette.error.dark,.1)}}));let Ce;function Qe(t){const a=G.map(i=>i.name.toLowerCase());return new Promise()(i=>{Ce=setTimeout(()=>{const r=a.includes(t.toLowerCase());i(r?`${t} is already taken.`:null)},Math.random()*500+100)})}const Ze=ue(({className:t,...a})=>e.jsx(Pe,{...a,classes:{popper:t}}))(({theme:t})=>({[`& .${Ae.tooltip}`]:{backgroundColor:t.palette.error.main,color:t.palette.error.contrastText}}));function je(t){const{error:a}=t;return e.jsx(Ze,{open:!!a,title:a,children:e.jsx(We,{...t})})}je.propTypes={error:E.bool};function et(t){return e.jsx(je,{...t})}function tt(){const a=[{field:"name",headerName:"MUI Contributor",width:180,editable:!0,preProcessEditCellProps:async r=>{const c=await Qe(r.props.value.toString());return{...r.props,error:c}},renderEditCell:et}];f.useEffect(()=>()=>{clearTimeout(Ce)},[]);let i=[];return a.map(r=>i.push({label:r.headerName,key:r.field})),e.jsx(b,{content:!1,title:"Validation",secondary:e.jsxs(w,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(N,{data:G,filename:"validation-data-grid-table.csv",header:i}),e.jsx(v,{link:"https://mui.com/x/react-data-grid/editing/#validation"})]}),children:e.jsx(Xe,{children:e.jsx(y,{rows:G,columns:a,isCellEditable:r=>r.row.id===5,hideFooter:!0,autoHeight:!0})})})}const G=[{id:1,name:"Damien"},{id:2,name:"Olivier"},{id:3,name:"Danail"},{id:4,name:"Matheus"},{id:5,name:"You?"}];function at(t){return e.jsx(pe,{readOnly:!0,value:t.value})}function be(t){const{id:a,value:i,field:r,hasFocus:c}=t,g=fe(),x=f.useRef(),M=(C,S)=>{g.current.setEditCellValue({id:a,field:r,value:S})};return ye(()=>{if(c&&x.current){const C=x.current.querySelector(`input[value="${i}"]`);C==null||C.focus()}},[c,i]),e.jsx(p,{sx:{display:"flex",alignItems:"center",pr:2},children:e.jsx(pe,{ref:x,name:"rating",precision:1,value:i,onChange:M})})}be.propTypes={id:E.number,value:E.array,field:E.bool,hasFocus:E.bool};const it=t=>e.jsx(be,{...t});function rt(){let t=[];return J.map(a=>t.push({label:a.headerName,key:a.field})),e.jsx(b,{content:!1,title:"Customize Editing",secondary:e.jsxs(w,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(N,{data:K,filename:"custom-edit-data-grid-table.csv",header:t}),e.jsx(v,{link:"https://mui.com/x/react-data-grid/editing/#create-your-own-edit-component"})]}),children:e.jsx(p,{sx:{width:"100%"},children:e.jsx(y,{hideFooter:!0,autoHeight:!0,rows:K,columns:J})})})}const J=[{field:"places",headerName:"Places",flex:.75,minWidth:120},{field:"rating",headerName:"Rating",renderCell:at,renderEditCell:it,editable:!0,flex:1,minWidth:120}],K=[{id:1,places:"Barcelona",rating:5},{id:2,places:"Rio de Janeiro",rating:4},{id:3,places:"London",rating:3},{id:4,places:"New York",rating:2}];function nt(){let t=[];return X.map(a=>t.push({label:a.headerName,key:a.field})),e.jsx(b,{content:!1,title:"Editable Row",secondary:e.jsxs(w,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(N,{data:Q,filename:"editable-row-data-grid-table.csv",header:t}),e.jsx(v,{link:"https://mui.com/x/react-data-grid/editing/#row-editing"})]}),children:e.jsx(p,{sx:{width:"100%"},children:e.jsx(y,{hideFooter:!0,autoHeight:!0,editMode:"row",rows:Q,columns:X})})})}const X=[{field:"name",headerName:"Name",flex:1,minWidth:180,editable:!0},{field:"age",headerName:"Age",type:"number",editable:!0,align:"left",flex:.5,minWidth:120,headerAlign:"left"},{field:"dateCreated",headerName:"Date Created",type:"date",flex:.75,minWidth:180,editable:!0},{field:"lastLogin",headerName:"Last Login",type:"dateTime",flex:.75,minWidth:180,editable:!0}],Q=[{id:1,name:l(),age:25,dateCreated:d(),lastLogin:s()},{id:2,name:l(),age:36,dateCreated:d(),lastLogin:s()},{id:3,name:l(),age:19,dateCreated:d(),lastLogin:s()},{id:4,name:l(),age:28,dateCreated:d(),lastLogin:s()},{id:5,name:l(),age:23,dateCreated:d(),lastLogin:s()}];function lt(t){return`${t.row.firstName||""} ${t.row.lastName||""}`}function dt(t){const[a,i]=t.value.toString().split(" ");return{...t.row,firstName:a,lastName:i}}function ot(t){return String(t).split(" ").map(a=>a.length>0?a[0].toUpperCase()+a.slice(1):"").join(" ")}function st(){let t=[];return Z.map(a=>t.push({label:a.headerName,key:a.field})),e.jsx(b,{content:!1,title:"Value Parser & Setter",secondary:e.jsxs(w,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(N,{data:ee,filename:"value-parser-data-grid-table.csv",header:t}),e.jsx(v,{link:"https://mui.com/x/react-data-grid/editing/#value-parser-and-value-setter"})]}),children:e.jsx(p,{sx:{width:"100%"},children:e.jsx(y,{hideFooter:!0,autoHeight:!0,rows:ee,columns:Z})})})}const Z=[{field:"firstName",headerName:"First name",flex:1,minWidth:130,editable:!0},{field:"lastName",headerName:"Last name",flex:.75,minWidth:130,editable:!0},{field:"fullName",headerName:"Full name",flex:.75,minWidth:160,editable:!0,valueGetter:lt,valueSetter:dt,valueParser:ot,sortComparator:(t,a)=>t.toString().localeCompare(a.toString())}],ee=[{id:1,lastName:"Snow",firstName:"Jon"},{id:2,lastName:"Lannister",firstName:"Cersei"},{id:3,lastName:"Lannister",firstName:"Jaime"},{id:4,lastName:"Stark",firstName:"Arya"},{id:5,lastName:"Targaryen",firstName:"Daenerys"}];function ct(){let t=[];return te.map(a=>t.push({label:a.headerName,key:a.field})),e.jsx(b,{content:!1,title:"Editing Events",secondary:e.jsxs(w,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(N,{data:ae,filename:"editing-events-data-grid-table.csv",header:t}),e.jsx(v,{link:"https://mui.com/x/react-data-grid/editing/#editing-events"})]}),children:e.jsx(p,{sx:{width:"100%"},children:e.jsx(y,{rows:ae,columns:te,onCellEditStop:(a,i)=>{a.reason===Ie.cellFocusOut&&(i.defaultMuiPrevented=!0)},hideFooter:!0,autoHeight:!0})})})}const te=[{field:"name",headerName:"Name",flex:1,minWidth:180,editable:!0},{field:"age",headerName:"Age",type:"number",editable:!0,align:"left",flex:.5,minWidth:120,headerAlign:"left"},{field:"dateCreated",headerName:"Date Created",type:"date",flex:.75,minWidth:180,editable:!0},{field:"lastLogin",headerName:"Last Login",type:"dateTime",flex:.75,minWidth:180,editable:!0}],ae=[{id:1,name:l(),age:25,dateCreated:d(),lastLogin:s()},{id:2,name:l(),age:36,dateCreated:d(),lastLogin:s()},{id:3,name:l(),age:19,dateCreated:d(),lastLogin:s()},{id:4,name:l(),age:28,dateCreated:d(),lastLogin:s()},{id:5,name:l(),age:23,dateCreated:d(),lastLogin:s()}];function mt(){let t=[];return ie.map(a=>t.push({label:a.headerName,key:a.field})),e.jsx(b,{content:!1,title:"Editable Column",secondary:e.jsxs(w,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(N,{data:re,filename:"editable-column-data-grid-table.csv",header:t}),e.jsx(v,{link:"https://mui.com/x/react-data-grid/editing/#making-a-column-editable"})]}),children:e.jsx(p,{sx:{width:"100%"},children:e.jsx(y,{hideFooter:!0,autoHeight:!0,rows:re,columns:ie})})})}const ie=[{field:"name",headerName:"Name",flex:1,minWidth:180,editable:!0},{field:"age",headerName:"Age",type:"number",editable:!0,align:"left",flex:.5,minWidth:120,headerAlign:"left"},{field:"dateCreated",headerName:"Date Created",type:"date",flex:.75,minWidth:180,editable:!0},{field:"lastLogin",headerName:"Last Login",type:"dateTime",flex:.75,minWidth:220,editable:!0}],re=[{id:1,name:l(),age:25,dateCreated:d(),lastLogin:s()},{id:2,name:l(),age:36,dateCreated:d(),lastLogin:s()},{id:3,name:l(),age:19,dateCreated:d(),lastLogin:s()},{id:4,name:l(),age:28,dateCreated:d(),lastLogin:s()},{id:5,name:l(),age:23,dateCreated:d(),lastLogin:s()}];function ut(){const t=ke();let a=[];return ne.map(i=>a.push({label:i.headerName,key:i.field})),e.jsx(b,{content:!1,title:"Disable Editing",secondary:e.jsxs(w,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(N,{data:le,filename:"disable-editing-data-grid-table.csv",header:a}),e.jsx(v,{link:"https://mui.com/x/react-data-grid/editing/#disable-editing-of-specific-cells-within-a-row"})]}),children:e.jsx(p,{sx:{width:"100%","& .MuiDataGrid-cell--editable":{bgcolor:T(t.palette.success.dark,.1)}},children:e.jsx(y,{hideFooter:!0,autoHeight:!0,rows:le,columns:ne,isCellEditable:i=>i.row.age%2===0})})})}const ne=[{field:"name",headerName:"Name",flex:1,minWidth:180,editable:!0},{field:"age",headerName:"Age",type:"number",editable:!0,align:"left",flex:.5,minWidth:120,headerAlign:"left"},{field:"dateCreated",headerName:"Date Created",type:"date",flex:.75,minWidth:180,editable:!0},{field:"lastLogin",headerName:"Last Login",type:"dateTime",flex:.75,minWidth:220,editable:!0}],le=[{id:1,name:l(),age:25,dateCreated:d(),lastLogin:s()},{id:2,name:l(),age:36,dateCreated:d(),lastLogin:s()},{id:3,name:l(),age:19,dateCreated:d(),lastLogin:s()},{id:4,name:l(),age:28,dateCreated:d(),lastLogin:s()},{id:5,name:l(),age:23,dateCreated:d(),lastLogin:s()}],ht=()=>f.useCallback(t=>new Promise((a,i)=>{setTimeout(()=>{var r,c;((r=t.name)==null?void 0:r.trim())===""?i(new Error("Error while saving user: name can't be empty.")):a({...t,name:(c=t.name)==null?void 0:c.toUpperCase()})},200)}),[]);function gt(){const t=ht(),a=f.useCallback(async c=>{const g=await t(c);return V(P({open:!0,message:"User Successfully Saved",variant:"alert",anchorOrigin:{vertical:"bottom",horizontal:"center"},alert:{color:"success"}})),g},[t]),i=f.useCallback(c=>{V(P({open:!0,message:c.message,variant:"alert",anchorOrigin:{vertical:"bottom",horizontal:"center"},alert:{color:"error"}}))},[]);let r=[];return de.map(c=>r.push({label:c.headerName,key:c.field})),e.jsx(b,{content:!1,title:"Server-side Validation",secondary:e.jsxs(w,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(N,{data:oe,filename:"server-validation-data-grid-table.csv",header:r}),e.jsx(v,{link:"https://mui.com/x/react-data-grid/editing/#server-side-validation"})]}),children:e.jsx(p,{sx:{width:"100%"},children:e.jsx(y,{rows:oe,columns:de,hideFooter:!0,autoHeight:!0,processRowUpdate:a,onProcessRowUpdateError:i})})})}const de=[{field:"name",headerName:"Name",flex:1,minWidth:180,editable:!0},{field:"age",headerName:"Age",type:"number",editable:!0,align:"left",flex:.5,minWidth:120,headerAlign:"left"},{field:"dateCreated",headerName:"Date Created",type:"date",flex:.75,minWidth:180,editable:!0},{field:"lastLogin",headerName:"Last Login",type:"dateTime",flex:1,minWidth:220,editable:!0}],oe=[{id:1,name:l(),age:25,dateCreated:d(),lastLogin:s()},{id:2,name:l(),age:36,dateCreated:d(),lastLogin:s()},{id:3,name:l(),age:19,dateCreated:d(),lastLogin:s()},{id:4,name:l(),age:28,dateCreated:d(),lastLogin:s()},{id:5,name:l(),age:23,dateCreated:d(),lastLogin:s()}];var z={},ft=ge;Object.defineProperty(z,"__esModule",{value:!0});var we=z.default=void 0,pt=ft(he()),xt=e;we=z.default=(0,pt.default)((0,xt.jsx)("path",{d:"M16 9v10H8V9zm-1.5-6h-5l-1 1H5v2h14V4h-3.5zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2z"}),"DeleteOutlined");var _={},Ct=ge;Object.defineProperty(_,"__esModule",{value:!0});var ve=_.default=void 0,jt=Ct(he()),bt=e;ve=_.default=(0,jt.default)((0,bt.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save");const wt=["Market","Finance","Development"],I=()=>$e(wt),vt=[{id:D(),name:l(),age:25,joinDate:d(),role:I()},{id:D(),name:l(),age:36,joinDate:d(),role:I()},{id:D(),name:l(),age:19,joinDate:d(),role:I()},{id:D(),name:l(),age:28,joinDate:d(),role:I()},{id:D(),name:l(),age:23,joinDate:d(),role:I()}];function Nt(){const[t,a]=f.useState(vt),[i,r]=f.useState({}),c=(n,u)=>{n.reason===Re.rowFocusOut&&(u.defaultMuiPrevented=!0)},g=n=>()=>{r({...i,[n]:{mode:W.Edit}})},x=n=>()=>{r({...i,[n]:{mode:W.View}})},M=n=>()=>{a(t.filter(u=>u.id!==n))},C=n=>()=>{r({...i,[n]:{mode:W.View,ignoreModifications:!0}}),t.find(k=>k.id===n).isNew&&a(t.filter(k=>k.id!==n))},S=n=>{const u={...n,isNew:!1};return a(t.map(k=>k.id===n.id?u:k)),u},L=n=>{r(n)},h=[{field:"name",headerName:"Name",flex:1,minWidth:180,editable:!0},{flex:.5,field:"age",headerName:"Age",type:"number",minWidth:124,align:"left",headerAlign:"left",editable:!0},{field:"joinDate",headerName:"Join date",type:"date",flex:.75,minWidth:180,editable:!0},{field:"role",headerName:"Department",flex:.75,minWidth:220,editable:!0,type:"singleSelect",valueOptions:["Market","Finance","Development"]},{field:"actions",type:"actions",headerName:"Actions",flex:.75,minWidth:100,cellClassName:"actions",getActions:({id:n})=>{var k;return((k=i[n])==null?void 0:k.mode)===W.Edit?[e.jsx($,{component:F,size:"large",icon:e.jsx(ve,{color:"secondary",sx:{fontSize:"1.3rem"}}),label:"Save",sx:{color:"primary.main"},onClick:x(n)},n),e.jsx($,{component:F,size:"large",icon:e.jsx(Me,{color:"error",sx:{fontSize:"1.3rem"}}),label:"Cancel",className:"textPrimary",onClick:C(n)},n)]:[e.jsx($,{component:F,size:"large",icon:e.jsx(Ge,{color:"secondary",sx:{fontSize:"1.3rem"}}),label:"Edit",className:"textPrimary",onClick:g(n),color:"inherit"},n),e.jsx($,{component:F,size:"large",icon:e.jsx(we,{color:"error",sx:{fontSize:"1.3rem"}}),label:"Delete",onClick:M(n),color:"inherit"},n)]}}];let o=[];h.map(n=>o.push({label:n.headerName,key:n.field}));const m=()=>{const n=D();a(u=>[...u,{id:n,name:"",age:"",isNew:!0}]),r(u=>({...u,[n]:{mode:W.Edit,fieldToFocus:"name"}}))};return e.jsx(b,{content:!1,title:"Full-featured CRUD",secondary:e.jsxs(w,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(p,{children:e.jsx(R,{color:"primary",startIcon:e.jsx(Te,{}),onClick:m,children:"Add record"})}),e.jsx(N,{data:t,filename:"full-featured-data-grid-table.csv",header:o}),e.jsx(v,{link:"https://mui.com/x/react-data-grid/editing/#full-featured-crud"})]}),children:e.jsx(p,{sx:{width:"100%","& .MuiDataGrid-root":{"& .MuiDataGrid-cell--editing":{"& .MuiInputBase-root":{width:150,"& .MuiSelect-select":{py:.75}}},"& .MuiDataGrid-row--editing":{boxShadow:"none"}}},children:e.jsx(y,{rows:t,columns:h,editMode:"row",rowModesModel:i,hideFooter:!0,autoHeight:!0,onRowModesModelChange:L,onRowEditStop:c,processRowUpdate:S,slotProps:{toolbar:{setRows:a,setRowModesModel:r}}})})})}const yt=()=>f.useCallback(t=>new Promise((a,i)=>{setTimeout(()=>{var r;((r=t.name)==null?void 0:r.trim())===""?i():a(t)},200)}),[]);function se(t,a){return t.name!==a.name?`Name from '${a.name}' to '${t.name}'`:t.age!==a.age?`Age from '${a.age||""}' to '${t.age||""}'`:null}function kt(){const t=Se(),a=yt(),i=f.useRef(null),[r,c]=f.useState(null);let g=[];ce.map(h=>g.push({label:h.headerName,key:h.field}));const x=f.useCallback((h,o)=>new Promise((m,n)=>{se(h,o)?c({resolve:m,reject:n,newRow:h,oldRow:o}):m(o)}),[]),M=()=>{const{oldRow:h,resolve:o}=r;o(h),c(null)},C=async()=>{const{newRow:h,oldRow:o,reject:m,resolve:n}=r;try{const u=await a(h);t(P({open:!0,message:"User Successfully Saved",variant:"alert",alert:{color:"success"}})),n(u),c(null)}catch{t(P({open:!0,message:"Name can not be empty",variant:"alert",alert:{color:"error"}})),m(o),c(null)}},S=()=>{},L=()=>{if(!r)return null;const{newRow:h,oldRow:o}=r,m=se(h,o);return e.jsxs(_e,{maxWidth:"xs",TransitionProps:{onEntered:S},open:!!r,children:[e.jsx(He,{children:"Are you sure?"}),e.jsx(Oe,{children:e.jsx(Ve,{children:e.jsx(Ee,{variant:"body2",component:"span",children:`Pressing 'Yes' will change ${m}.`})})}),e.jsxs(Be,{sx:{pr:2.5},children:[e.jsx(R,{ref:i,sx:{color:"error.dark"},autoFocus:!0,onClick:M,color:"secondary",children:"No"}),e.jsx(R,{variant:"contained",size:"small",onClick:C,autoFocus:!0,children:"Yes"})]})]})};return e.jsx(b,{content:!1,title:"Confirmation After Edit",secondary:e.jsxs(w,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(N,{data:me,filename:"confirmation-save-data-grid-table.csv",header:g}),e.jsx(v,{link:"https://mui.com/x/react-data-grid/editing/#confirm-before-saving"})]}),children:e.jsxs(p,{sx:{width:"100%"},children:[L(),e.jsx(y,{hideFooter:!0,autoHeight:!0,rows:me,columns:ce,processRowUpdate:x})]})})}const ce=[{field:"name",headerName:"Name",flex:1,minWidth:180,editable:!0},{field:"age",headerName:"Age",flex:.5,type:"number",editable:!0,align:"left",minWidth:120,headerAlign:"left"},{field:"dateCreated",headerName:"Date Created",type:"date",flex:.75,minWidth:180},{field:"lastLogin",headerName:"Last Login",type:"dateTime",flex:.75,minWidth:220}],me=[{id:1,name:l(),age:25,dateCreated:d(),lastLogin:s()},{id:2,name:l(),age:36,dateCreated:d(),lastLogin:s()},{id:3,name:l(),age:19,dateCreated:d(),lastLogin:s()},{id:4,name:l(),age:28,dateCreated:d(),lastLogin:s()},{id:5,name:l(),age:23,dateCreated:d(),lastLogin:s()}];function ca(){return e.jsxs(j,{container:!0,spacing:Le,children:[e.jsx(j,{item:!0,xs:12,children:e.jsx(Nt,{})}),e.jsx(j,{item:!0,xs:12,children:e.jsx(mt,{})}),e.jsx(j,{item:!0,xs:12,children:e.jsx(nt,{})}),e.jsx(j,{item:!0,xs:12,children:e.jsx(ct,{})}),e.jsx(j,{item:!0,xs:12,children:e.jsx(ut,{})}),e.jsx(j,{item:!0,xs:12,children:e.jsx(gt,{})}),e.jsx(j,{item:!0,xs:12,children:e.jsx(kt,{})}),e.jsx(j,{item:!0,xs:12,children:e.jsx(st,{})}),e.jsx(j,{item:!0,xs:12,children:e.jsx(tt,{})}),e.jsx(j,{item:!0,xs:12,children:e.jsx(Ke,{})}),e.jsx(j,{item:!0,xs:12,children:e.jsx(rt,{})}),e.jsx(j,{item:!0,xs:12,children:e.jsx(Je,{})})]})}export{ca as default};
