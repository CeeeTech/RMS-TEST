import{P as u,r as f,l as e,S as y,O as T,L as k,K as A,aS as G,aT as Q,D as C,M as W,$,Y as z,af as Y,a3 as J,T as X,am as Z,an as ee,d4 as te,ad as se}from"./index-D1jq9kJH.js";import{d as ie}from"./Search-C3dx88yC.js";import{d as ae}from"./FilterListTwoTone-CHfAIJEf.js";import{d as re}from"./PrintTwoTone-CyTOnKk4.js";import{d as ne}from"./FileCopyTwoTone-BFSjB2vW.js";import{d as le}from"./AddTwoTone-CapA7Cm2.js";import{T as oe}from"./TextField-CZtuqMzg.js";import{I as ce}from"./InputAdornment-DJGYiVlo.js";import{T as b}from"./Tooltip-BnzKm6rU.js";import{F as de}from"./Fab-DfPYIpVC.js";import{T as me}from"./TableHead-CAe_3eDK.js";import{b as R,T as he,a as pe,c as ue}from"./TableRow-CdrLwNI7.js";import{T as o}from"./TableCell-Bay4XfoM.js";import{C as D}from"./Checkbox-DY75TCaV.js";import{T as xe}from"./TableSortLabel-Cg18DMHm.js";import{g as ge,I as fe}from"./getImageUrl-CsHsmFJf.js";import{d as je}from"./VisibilityTwoTone-DcswCwW4.js";import{d as be}from"./EditTwoTone-BXRg6PQc.js";import{d as Se}from"./DeleteTwoTone-hQVFsYyz.js";import{r as w}from"./random-D-oTin4B.js";import{T as Te}from"./TablePagination-gjp86BJc.js";import"./FormControl-BhfPE8_O.js";import"./utils-DoM3o7-Q.js";import"./InputLabel-B26CM0Hw.js";import"./FormLabel-Dsek0Nea.js";import"./Select-ZcV0niJu.js";import"./Menu-SXZ0ZIrG.js";import"./InputBase-CmWFd4JY.js";import"./OutlinedInput-DN1we0wm.js";import"./FormHelperText-Cniy_4F_.js";import"./isSymbol-ckKrFcy_.js";import"./isArrayLike-C-wli46Q.js";import"./LastPage-Bu0cjKB7.js";import"./MenuItem-CEXjQcJ-.js";const E=({rows:t,setRows:r})=>{const[a,i]=f.useState(""),c=x=>{const n=x==null?void 0:x.target.value;if(i(n||""),n){const j=t==null?void 0:t.filter(l=>{let g=!0;const m=["customer_name","date","email","due_date","invoice_id","quantity","status"];let v=!1;return m.forEach(S=>{l[S].toString().toLowerCase().includes(n.toString().toLowerCase())&&(v=!0)}),v||(g=!1),g});r(j)}else r(t)};return e.jsxs(y,{direction:{xs:"column",sm:"row"},alignItems:"center",justifyContent:"space-between",spacing:2,children:[e.jsx(oe,{InputProps:{startAdornment:e.jsx(ce,{position:"start",children:e.jsx(ie,{fontSize:"small"})})},onChange:c,placeholder:"Search Invoice",value:a,size:"small",sx:{width:{xs:1,sm:"auto"}}}),e.jsxs(y,{direction:"row",alignItems:"center",spacing:1.25,children:[e.jsx(b,{title:"Copy",children:e.jsx(T,{size:"large",children:e.jsx(ne,{})})}),e.jsx(b,{title:"Print",children:e.jsx(T,{size:"large",children:e.jsx(re,{})})}),e.jsx(b,{title:"Filter",children:e.jsx(T,{size:"large",children:e.jsx(ae,{})})}),e.jsx(b,{title:"Add Invoice",children:e.jsx(k,{to:"/apps/invoice/create-invoice",children:e.jsx(de,{color:"primary",size:"small",sx:{boxShadow:"none",width:32,height:32,minHeight:32},children:e.jsx(le,{fontSize:"small"})})})})]})]})};E.propTypes={setRows:u.func,rows:u.array};const ye=[{id:"date",numeric:!0,label:"Issue Date"},{id:"id",numeric:!0,label:"Invoice No",align:"center"},{id:"name",numeric:!1,label:"Customer Info"},{id:"status",numeric:!1,label:"Status"},{id:"date",numeric:!0,label:"Due Date"},{id:"amount",numeric:!0,label:"Due Amount",align:"right"},{id:"quantity",numeric:!0,label:"Balance",align:"right"},{id:"payment",numeric:!0,label:"Payment",align:"right"}],O=({numSelected:t})=>e.jsxs(Q,{sx:{p:0,pl:1,pr:1,...t>0&&{color:"secondary.main"}},children:[t>0?e.jsxs(C,{color:"inherit",variant:"h4",children:[t," Selected"]}):e.jsx(C,{variant:"h6",id:"tableTitle",children:"Nutrition"}),e.jsx(A,{sx:{flexGrow:1}})]});O.propTypes={numSelected:u.number.isRequired};const L=({onSelectAllClick:t,order:r,orderBy:a,numSelected:i,rowCount:c,onRequestSort:x,selected:n})=>{const j=l=>g=>{x(g,l)};return e.jsx(me,{children:e.jsxs(R,{children:[e.jsx(o,{padding:"checkbox",sx:{pl:3},children:e.jsx(D,{color:"primary",indeterminate:i>0&&i<c,checked:c>0&&i===c,onChange:t,inputProps:{"aria-label":"select all desserts"}})}),i>0&&e.jsx(o,{padding:"none",colSpan:12,children:e.jsx(O,{numSelected:n.length})}),i<=0&&ye.map((l,g)=>{const m=a===l.id;return e.jsx(o,{align:l.align,padding:l.disablePadding?"none":"normal",sortDirection:m?r:void 0,children:e.jsxs(xe,{active:m,direction:m?r:void 0,onClick:j(l.id),children:[l.label,m&&e.jsx(A,{component:"span",sx:G,children:r==="desc"?"sorted descending":"sorted ascending"})]})},g)}),i<=0&&e.jsx(o,{sortDirection:!1,align:"center",sx:{pr:3},children:"Action"})]})})};L.propTypes={selected:u.array,numSelected:u.number.isRequired,onRequestSort:u.func.isRequired,onSelectAllClick:u.func.isRequired,order:u.oneOf(["asc","desc"]).isRequired,orderBy:u.string.isRequired,rowCount:u.number.isRequired};function q(t,r,a){return r[a]<t[a]?-1:r[a]>t[a]?1:0}const Ce=(t,r)=>t==="desc"?(a,i)=>q(a,i,r):(a,i)=>-q(a,i,r);function ve(t,r){const a=t.map((i,c)=>[i,c]);return a.sort((i,c)=>{const x=r(i[0],c[0]);return x!==0?x:i[1]-c[1]}),a.map(i=>i[0])}const F=({rows:t})=>{const r=W(),[a,i]=f.useState("asc"),[c,x]=f.useState("calories"),[n,j]=f.useState([]),[l,g]=f.useState(0),[m,v]=f.useState(5);let S,I,P;const H=(s,h)=>{i(c===h&&a==="asc"?"desc":"asc"),x(h)},B=s=>{if(s.target.checked){if(n.length>0)j([]);else{const h=t.map(d=>d.customer_name);j(h)}return}j([])},M=(s,h)=>{const d=n.indexOf(h);let p=[];d===-1?p=p.concat(n,h):d===0?p=p.concat(n.slice(1)):d===n.length-1?p=p.concat(n.slice(0,-1)):d>0&&(p=p.concat(n.slice(0,d),n.slice(d+1))),j(p)},U=(s,h)=>{g(h)},K=s=>{s!=null&&s.target.value&&v(parseInt(s==null?void 0:s.target.value,10)),g(0)},N=s=>n.indexOf(s)!==-1,_=l>0?Math.max(0,(1+l)*m-t.length):0;return e.jsxs($,{content:!1,children:[e.jsx(he,{children:e.jsxs(pe,{sx:{minWidth:750},"aria-labelledby":"tableTitle",children:[e.jsx(L,{numSelected:n.length,order:a,orderBy:c,onSelectAllClick:B,onRequestSort:H,rowCount:t.length,selected:n}),e.jsxs(ue,{children:[ve(t,Ce(a,c)).slice(l*m,l*m+m).map((s,h)=>{if(typeof s=="number")return null;const d=N(s.customer_name),p=`enhanced-table-checkbox-${h}`;switch(s.status.toString()){case"Paid":S="Paid",I="success.dark",P=z(r.palette.success.light,.6);break;case"Cancelled":S="Cancelled",I="orange.dark",P=z(r.palette.orange.light,.8);break;case"Unpaid":default:S="Unpaid",I="warning.dark",P="warning.light";break}return e.jsxs(R,{hover:!0,role:"checkbox","aria-checked":d,tabIndex:-1,selected:d,children:[e.jsx(o,{padding:"checkbox",sx:{pl:3},onClick:V=>M(V,s.customer_name),children:e.jsx(D,{color:"primary",checked:d,inputProps:{"aria-labelledby":p}})}),e.jsx(o,{children:s.date}),e.jsx(o,{children:e.jsxs(C,{variant:"h5",align:"center",children:["#",s.invoice_id]})}),e.jsx(o,{children:e.jsxs(y,{direction:"row",spacing:2,children:[e.jsx(Y,{alt:"",src:ge(`avatar-${s.avatar}.png`,fe.USERS)}),e.jsxs(y,{children:[e.jsx(C,{variant:"subtitle1",children:s.customer_name}),e.jsx(C,{variant:"caption",children:s.email})]})]})}),e.jsx(o,{children:e.jsx(J,{label:S,size:"small",sx:{bgcolor:r.palette.mode===X.DARK?"dark.main":P,color:I,cursor:"pointer"}})}),e.jsx(o,{children:s.due_date}),e.jsxs(o,{align:"right",children:["$",s.quantity]}),e.jsxs(o,{align:"right",children:["$",w(1e3,9999)]}),e.jsxs(o,{align:"right",children:["$",w(1e3,9999)]}),e.jsx(o,{align:"center",sx:{pr:3},children:e.jsxs(y,{direction:"row",alignItems:"center",spacing:1,justifyContent:"center",children:[e.jsx(b,{title:"View",children:e.jsx(T,{color:"primary",component:k,to:"/apps/invoice/invoice-deatils",size:"small","aria-label":"View",children:e.jsx(je,{sx:{fontSize:"1.3rem"}})})}),e.jsx(b,{title:"Edit",children:e.jsx(T,{color:"secondary",component:k,to:"/apps/invoice/edit-invoice",size:"small","aria-label":"Edit",children:e.jsx(be,{sx:{fontSize:"1.3rem"}})})}),e.jsx(b,{title:"Delete",children:e.jsx(T,{color:"error",size:"small","aria-label":"Delete",children:e.jsx(Se,{sx:{fontSize:"1.3rem"}})})})]})})]},h)}),_>0&&e.jsx(R,{sx:{height:53*_},children:e.jsx(o,{colSpan:10})})]})]})}),e.jsx(Te,{rowsPerPageOptions:[5,10,25],component:"div",count:t.length,rowsPerPage:m,page:l,onPageChange:U,onRowsPerPageChange:K})]})};F.propTypes={rows:u.array};const rt=()=>{const{invoices:t}=Z(i=>i.customer),[r,a]=f.useState([]);return f.useEffect(()=>{ee(te())},[]),f.useEffect(()=>{a(t)},[t]),e.jsxs($,{content:!1,children:[e.jsx(se,{children:e.jsx(E,{rows:t,setRows:a})}),e.jsx(F,{rows:r})]})};export{rt as default};
