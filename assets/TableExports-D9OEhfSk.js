var E=Object.defineProperty;var x=(t,e,n)=>e in t?E(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var u=(t,e,n)=>(x(t,typeof e!="symbol"?e+"":e,n),n);import{c as A,R as i,a5 as m,l as d,aj as L,P as h}from"./index-D8YYVO5u.js";import{T as O}from"./Tooltip-C3hP7asU.js";var S=A("device-floppy","IconDeviceFloppy",[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14 4l0 4l-6 0l0 -4",key:"svg-2"}]]);const U=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent),C=t=>Array.isArray(t)&&t.every(e=>typeof e=="object"&&!(e instanceof Array)),$=t=>Array.isArray(t)&&t.every(e=>Array.isArray(e)),I=t=>Array.from(t.map(e=>Object.keys(e)).reduce((e,n)=>new Set([...e,...n]),[])),T=(t,e)=>{e=e||I(t);let n=e,s=e;C(e)&&(n=e.map(a=>a.label),s=e.map(a=>a.key));const r=t.map(a=>s.map(o=>V(o,a)));return[n,...r]},V=(t,e)=>{const n=t.replace(/\[([^\]]+)]/g,".$1").split(".").reduce(function(s,r,a,o){const c=s[r];if(c==null)o.splice(1);else return c},e);return n===void 0?t in e?e[t]:"":n},B=t=>typeof t>"u"||t===null?"":t,b=(t,e=",",n='"')=>t.filter(s=>s).map(s=>s.map(r=>B(r)).map(r=>`${n}${r}${n}`).join(e)).join(`
`),D=(t,e,n,s)=>b(e?[e,...t]:t,n,s),P=(t,e,n,s)=>b(T(t,e),n,s),M=(t,e,n,s)=>e?`${e.join(n)}
${t}`:t.replace(/"/g,'""'),v=(t,e,n,s)=>{if(C(t))return P(t,e,n,s);if($(t))return D(t,e,n,s);if(typeof t=="string")return M(t,e,n);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')},k=(t,e,n,s,r)=>{const a=v(t,n,s,r),o=U()?"application/csv":"text/csv",c=new Blob([e?"\uFEFF":"",a],{type:o}),l=`data:${o};charset=utf-8,${e?"\uFEFF":""}${a}`,p=window.URL||window.webkitURL;return typeof p.createObjectURL>"u"?l:p.createObjectURL(c)},F={data:i.oneOfType([i.string,i.array,i.func]).isRequired,headers:i.array,target:i.string,separator:i.string,filename:i.string,uFEFF:i.bool,onClick:i.func,asyncOnClick:i.bool,enclosingCharacter:i.string},R={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},_={target:"_blank"};class g extends m.Component{constructor(e){super(e),this.state={}}buildURI(){return k(...arguments)}componentDidMount(){const{data:e,headers:n,separator:s,enclosingCharacter:r,uFEFF:a,target:o,specs:c,replace:l}=this.props;this.state.page=window.open(this.buildURI(e,a,n,s,r),o,c,l)}getWindow(){return this.state.page}render(){return null}}u(g,"defaultProps",Object.assign(R,_)),u(g,"propTypes",F);var f;let H=(f=class extends m.Component{constructor(e){super(e),this.buildURI=this.buildURI.bind(this)}buildURI(){return k(...arguments)}handleLegacy(e,n=!1){if(window.navigator.msSaveOrOpenBlob){e.preventDefault();const{data:s,headers:r,separator:a,filename:o,enclosingCharacter:c,uFEFF:l}=this.props,p=n&&typeof s=="function"?s():s;let y=new Blob([l?"\uFEFF":"",v(p,r,a,c)]);return window.navigator.msSaveBlob(y,o),!1}}handleAsyncClick(e){const n=s=>{if(s===!1){e.preventDefault();return}this.handleLegacy(e,!0)};this.props.onClick(e,n)}handleSyncClick(e){if(this.props.onClick(e)===!1){e.preventDefault();return}this.handleLegacy(e)}handleClick(){return e=>{if(typeof this.props.onClick=="function")return this.props.asyncOnClick?this.handleAsyncClick(e):this.handleSyncClick(e);this.handleLegacy(e)}}render(){const{data:e,headers:n,separator:s,filename:r,uFEFF:a,children:o,onClick:c,asyncOnClick:l,enclosingCharacter:p,...y}=this.props,j=typeof window>"u"?"":this.buildURI(e,a,n,s,p);return d.jsx("a",{download:r,...y,ref:w=>this.link=w,target:"_self",href:j,onClick:this.handleClick(),children:o})}},u(f,"defaultProps",R),u(f,"propTypes",F),f);const N=H,q=({data:t,filename:e,headers:n})=>d.jsx(O,{title:"CSV Export",placement:"left",children:d.jsx(L,{sx:{mt:.5,"& svg":{color:"secondary.main"}},children:d.jsx(N,{data:t,filename:e,headers:n,children:d.jsx(S,{"aria-label":"Export CSV File"})})})});q.propTypes={data:h.array,filename:h.string,headers:h.object};export{q as C};
